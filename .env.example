# OpenWeather API Configuration
OPENWEATHER_API_KEY=your_api_key_here

# Weather Data Database Configuration
WEATHER_DB_NAME=weather_data
WEATHER_DB_USER=weather_user
WEATHER_DB_PASSWORD=change_this_password

# Airflow Configuration
# For Linux users: run `echo $(id -u)` and set AIRFLOW_UID to the result
# For macOS/Windows: you can leave this as default (50000)
AIRFLOW_UID=50000

# Airflow Admin User Credentials
_AIRFLOW_WWW_USER_USERNAME=airflow
_AIRFLOW_WWW_USER_PASSWORD=airflow

# Airflow Core Settings
AIRFLOW__CORE__EXECUTOR=CeleryExecutor
AIRFLOW__CORE__FERNET_KEY=your_fernet_key_here
AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION=True
AIRFLOW__CORE__LOAD_EXAMPLES=False

# Airflow Database Connection
# Format: postgresql+psycopg2://user:password@host:port/database
AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=postgresql+psycopg2://airflow_admin:airflow_admin_pass@postgres:5432/airflow

# Celery Configuration
AIRFLOW__CELERY__BROKER_URL=redis://:@redis:6379/0
AIRFLOW__CELERY__RESULT_BACKEND=db+postgresql://airflow_admin:airflow_admin_pass@postgres:5432/airflow

# Airflow API Configuration
AIRFLOW__API__AUTH_BACKENDS=airflow.api.auth.backend.basic_auth

# Webserver Configuration
AIRFLOW__WEBSERVER__EXPOSE_CONFIG=False

# Timezone
AIRFLOW__CORE__DEFAULT_TIMEZONE=UTC

# Email Alerts Configuration (Optional)
# Configure SMTP settings to enable email notifications for DAG failures
AIRFLOW__SMTP__SMTP_HOST=smtp.gmail.com
AIRFLOW__SMTP__SMTP_STARTTLS=True
AIRFLOW__SMTP__SMTP_SSL=False
AIRFLOW__SMTP__SMTP_PORT=587
AIRFLOW__SMTP__SMTP_MAIL_FROM=your-email@example.com
# For Gmail: use App Password, not regular password
AIRFLOW__SMTP__SMTP_USER=your-email@example.com
AIRFLOW__SMTP__SMTP_PASSWORD=your_app_password_here
AIRFLOW_CONN_SMTP_DEFAULT=smtp://USERNAME:PASSWORD@HOST:PORT?secure=starttls # for gmail, use app_password

# To generate a Fernet key, run:
# ./venv/bin/python3 -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"

# ===============================================
# Metabase Configuration
# ===============================================

# Metabase Admin Credentials
# These are used on first setup to create the admin account
# IMPORTANT: Change these from defaults on first setup!
METABASE_ADMIN_EMAIL=admin@example.com
METABASE_ADMIN_PASSWORD=change_this_password
METABASE_ADMIN_PASSWORD_LENGTH=8

# Metabase will automatically connect to the PostgreSQL weather_data database
# using the credentials defined above in this file:
# - WEATHER_DB_NAME=weather_data
# - WEATHER_DB_USER=weather_user
# - WEATHER_DB_PASSWORD=change_this_password

# Metabase Site Customization
METABASE_SITE_NAME="Weather Pipeline Analytics"
METABASE_SITE_URL=http://localhost:3000
# Set timezone to match your weather data locations
METABASE_TIMEZONE=America/Sao_Paulo
# Locale for UI language (pt_BR for Brazilian Portuguese, en_US for English)
METABASE_LOCALE=pt_BR

# Metabase Logging Level
# Options: debug, info, warn, error
METABASE_LOG_LEVEL=info
